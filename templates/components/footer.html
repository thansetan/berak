{{ define "footer" }}
<footer>
  <p style="text-align: center; font-weight: bold; margin: 0">
    Last ðŸ’© dropped on
    <a
      href="/{{ .LastDataAt.Year }}/{{ printf `%d` .LastDataAt.Month }}#{{ .LastDataAt.Day }}"
    >
      {{ .LastDataAt.Format "02 January 2006 at 15:04" }} GMT+7
    </a>
  </p>

  <div style="text-align: center; font-weight: bold; margin: 0.5em">
    Personal Records:
    <ul
      style="
        list-style: none;
        padding: 0;
        font-weight: normal;
        font-size: 0.95em;
        margin: 0;
      "
    >
      <li style="margin: 0">
        Longest no-ðŸ’© streak: {{ .LongestDayWithoutPoop }}!
        <span style="font-size: 0.85em">(From
          <a
            href="/{{ .LongestDayWithoutPoop.StartTime.Year }}/{{ printf `%d` .LongestDayWithoutPoop.StartTime.Month }}#{{ .LongestDayWithoutPoop.StartTime.Day }}"
          >
            {{ .LongestDayWithoutPoop.StartTime.Format "02 January 2006 at 15:04" }}
          </a>
          to
          <a
            href="/{{ .LongestDayWithoutPoop.EndTime.Year }}/{{ printf `%d` .LongestDayWithoutPoop.EndTime.Month }}#{{ .LongestDayWithoutPoop.EndTime.Day }}"
          >
            {{ .LongestDayWithoutPoop.EndTime.Format "02 January 2006 at 15:04" }}
          </a>)
        </span>
      </li>
      <li style="margin: 0">
        Most ðŸ’©s in a single day: {{ .MostPoopInADay.Count }} times
        <span style="font-size: 0.85em">(On
          <a
            href="/{{ .Year }}/{{ printf `%d` .MostPoopInADay.Month }}#{{ .MostPoopInADay.Day }}"
          >
            {{ printf "%d %s" .MostPoopInADay.Day (getMonthName
            (.MostPoopInADay.Month)) }}
          </a>)
        </span>
      </li>
    </ul>
  </div>
</footer>

<script>
  const highlight = () => {
    const highlightedRows = document.querySelectorAll(
      "#poop-log > table > tbody > tr.highlighted"
    );
    highlightedRows.forEach((e) => e.classList.remove("highlighted"));
    const hash = location.hash.substring(1);
    if (hash) {
      const row = document.getElementById(hash);
      if (row) {
        row.classList.add("highlighted");
      }
    }
  };
  highlight();
  window.addEventListener("hashchange", highlight);
</script>
{{ end }}
